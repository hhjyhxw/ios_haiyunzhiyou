(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/gooddetail/gooddetail"],{1024:function(o,t,e){},"71a6":function(o,t,e){"use strict";e.r(t);var a=e("8a39"),n=e.n(a);for(var i in a)"default"!==i&&function(o){e.d(t,o,function(){return a[o]})}(i);t["default"]=n.a},"8a39":function(o,t,e){"use strict";(function(o,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(e("b1bb"));i(e("4f2f"));function i(o){return o&&o.__esModule?o:{default:o}}var r=function(){return e.e("components/uni-goods-nav/uni-goods-nav").then(e.bind(null,"aaa7"))},u={components:{uniGoodsNav:r},data:function(){return{options:[{icon:"../../static/image/title_but_3_gray.png",text:"",info:0},{icon:"",text:""},{icon:"",text:""}],buttonGroup:[{text:"加入购物车",backgroundColor:"#ff0000",color:"#fff",id:1},{text:"立即购买",backgroundColor:"#ffa200",color:"#fff",id:2}],nodes:[],goods:{name:"日常保洁月卡（4次每次3小时）",defaultSourceImagePath:"",pid:1,marketPrice:2568,originalPrice:3e3,monthSalesCount:3,store:50,freezeStore:20,producingArea:"青藏高原",promoteMessage:"每次派1名家政人员工作3小时（100平米内）。办卡仅限同一地址使用",promotionInfo:"一张月卡可以使用四次",maiwan:!1},supplier:{id:1,companyName:"’家政服务",address:"南宁市西乡塘区北湖南路28号",businessHours:"08:00-18:00",contactPhone:"15077144027"}}},onLoad:function(t){console.log(o(t.goodId," at pages\\gooddetail\\gooddetail.vue:141"));var e={id:t.goodId};this.getGoods(e)},onShow:function(){this.getCartNum()},filters:{nullFilter:function(o){if(null==o||"null"==o)return""}},methods:{onClick:function(o){this.toCart()},buttonClick:function(o){this.goods.maiwan?a.showToast({title:"商品库存不足",duration:2e3}):1==o.content.id?this.addCart():2==o.content.id&&this.toPreorder()},getCartNum:function(){var o=this;this.$api.getCartNum().then(function(t){"0000"==t.code&&(o.options[0].info=t.cartNum)})},getGoods:function(t){var e=this;this.$api.gooddetail(t).then(function(t){if(console.log(o(JSON.stringify(t)," at pages\\gooddetail\\gooddetail.vue:190")),console.log(o(e.$config.imghosturl," at pages\\gooddetail\\gooddetail.vue:191")),"0000"==t.code){var a=t.good;a.defaultSourceImagePath=e.$config.imghosturl+a.defaultSourceImagePath,e.goods=a,e.supplier=a.supplier,1==a.isMaiwan&&(e.buttonGroup[1].backgroundColor="grey"),null!=a.introduction&&e.getData(a.introduction)}})},addCart:function(){var t=this,e={pid:this.goods.pid};console.log(o("data==="+JSON.stringify(e)," at pages\\gooddetail\\gooddetail.vue:209")),this.$api.ajaxAdd(e).then(function(e){console.log(o(JSON.stringify(e)," at pages\\gooddetail\\gooddetail.vue:212")),"0000"==e.code?(t.options[0].info++,a.showToast({title:"添加成功",duration:2e3})):"0001"==e.code?a.showToast({title:e.message,duration:2e3}):a.showToast({title:"添加失败",duration:2e3})})},toPreorder:function(){console.log(o("this.goods.isManwan==="+this.goods.isMaiwan," at pages\\gooddetail\\gooddetail.vue:235")),a.navigateTo({url:"/pages/preorder/preorder?pids="+this.goods.pid+"@@@&buyType=buyNow"})},toShopDetail:function(o){a.navigateTo({url:"/pages/shopdetail/shopdetail?shopId="+o})},toCart:function(){a.switchTab({url:"/pages/carts/carts"})},getData:function(o){o=-1==o.indexOf("http://www.haiyunzy.com")?o.replace(new RegExp(/src=\"/g),'style="display: block;margin: 0 auto;max-width: 100%" src="http://www.haiyunzy.com'):o.replace(new RegExp(/src=\"/g),'style="display: block;margin: 0 auto;max-width: 100%" src="'),this.nodes=(0,n.default)(o)}}};t.default=u}).call(this,e("0de9")["default"],e("6e42")["default"])},"8a5e":function(o,t,e){"use strict";var a=e("1024"),n=e.n(a);n.a},ab37:function(o,t,e){"use strict";(function(o){e("7656"),e("921b");a(e("66fd"));var t=a(e("ca35"));function a(o){return o&&o.__esModule?o:{default:o}}o(t.default)}).call(this,e("6e42")["createPage"])},c26f:function(o,t,e){"use strict";var a=function(){var o=this,t=o.$createElement,e=(o._self._c,o._f("nullFilter")(o.goods.producingArea));o.$mp.data=Object.assign({},{$root:{f0:e}})},n=[];e.d(t,"a",function(){return a}),e.d(t,"b",function(){return n})},ca35:function(o,t,e){"use strict";e.r(t);var a=e("c26f"),n=e("71a6");for(var i in n)"default"!==i&&function(o){e.d(t,o,function(){return n[o]})}(i);e("8a5e");var r=e("2877"),u=Object(r["a"])(n["default"],a["a"],a["b"],!1,null,null,null);t["default"]=u.exports}},[["ab37","common/runtime","common/vendor"]]]);