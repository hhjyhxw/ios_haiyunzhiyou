(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shopdetail/shopdetail"],{"0345":function(t,e,a){"use strict";(function(t){a("7656"),a("921b");i(a("66fd"));var e=i(a("4a99"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("6e42")["createPage"])},"10e0":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c},o=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o})},"33f9":function(t,e,a){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(a("a34a"));function n(t){return t&&t.__esModule?t:{default:t}}function s(t,e,a,i,o,n,s){try{var r=t[n](s),u=r.value}catch(c){return void a(c)}r.done?e(u):Promise.resolve(u).then(i,o)}function r(t){return function(){var e=this,a=arguments;return new Promise(function(i,o){var n=t.apply(e,a);function r(t){s(n,i,o,r,u,"next",t)}function u(t){s(n,i,o,r,u,"throw",t)}r(void 0)})}}var u=function(){return a.e("components/uni-swiper-dot/uni-swiper-dot").then(a.bind(null,"b280"))},c={components:{uniSwiperDot:u},data:function(){return{info:[{content:"内容 A",imageUrl:"../../static/image/temp/banner_hyyx.png"},{content:"内容 B",imageUrl:"../../static/image/temp/banner1.png"},{content:"内容 C",imageUrl:"../../static/image/temp/banner_hyyx.png"}],current:0,mode:"dot",supplier:{companyName:"家政服务",businessHours:"09:00-18:00",contactPhone:"15077144027"},typeList:[{id:1,name:"热门促销",isAacitve:!0},{id:2,name:"酒水饮料",isAacitve:!1},{id:3,name:"生鲜肉类",isAacitve:!1}],goodList:[{defaultSourceImagePath:"../../static/image/temp/good-demo.png",name:"耐斯乐波轮洗衣机深度清洗养护（拆洗）",marketPrice:265,originalPrice:305},{defaultSourceImagePath:"../../static/image/temp/good-demo.jpg",name:"耐斯乐波轮洗衣机深度清洗养护（拆洗）",marketPrice:265,originalPrice:305},{defaultSourceImagePath:"../../static/image/temp/goods-demo.png",name:"耐斯乐波轮洗衣机深度清洗养护（拆洗）",marketPrice:265,originalPrice:305},{defaultSourceImagePath:"../../static/image/temp/goods-demo.png",name:"耐斯乐波轮洗衣机深度清洗养护（拆洗）",marketPrice:265,originalPrice:305},{defaultSourceImagePath:"../../static/image/temp/goods-demo.png",name:"耐斯乐波轮洗衣机深度清洗养护（拆洗）",marketPrice:265,originalPrice:305},{defaultSourceImagePath:"../../static/image/temp/goods-demo.png",name:"耐斯乐波轮洗衣机深度清洗养护（拆洗）",marketPrice:265,originalPrice:305},{defaultSourceImagePath:"../../static/image/temp/goods-demo.png",name:"耐斯乐波轮洗衣机深度清洗养护（拆洗）",marketPrice:265,originalPrice:305},{defaultSourceImagePath:"../../static/image/temp/goods-demo.png",name:"耐斯乐波轮洗衣机深度清洗养护（拆洗）",marketPrice:265,originalPrice:305}],cartNum:0,queryData:{pageNo:1,totalPage:0,sid:-1,goodsCategoryId:-1}}},onLoad:function(e){console.log(t(e.shopId," at pages\\shopdetail\\shopdetail.vue:182"));var a={sid:e.shopId};this.shopdetail(a),this.getCartNum()},methods:{change:function(t){this.current=t.detail.current},shopdetail:function(e){var a=this;this.$api.shopdetail(e).then(function(e){if(console.log(t(JSON.stringify(e)," at pages\\shopdetail\\shopdetail.vue:197")),console.log(t(a.$config.imghosturl," at pages\\shopdetail\\shopdetail.vue:198")),"0000"==e.code){a.supplier=e.supplier,a.typeList=e.typeList;var i=e.adlist;i.forEach(function(t){return t.imageUrl=a.$config.imghosturl+t.imageUrl}),a.info=i;var o={sid:e.supplier.id,goodsCategoryId:a.typeList[0].id,pageNo:1,pageSize:20};a.queryData=o,a.typeList[0].isAacitve=!0,a.getGoodsList(o,!0)}})},getGoodsList:function(){var e=r(o.default.mark(function e(a,i){var n,s=this;return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$api.goodslistBySidAndCatoid(a);case 2:if(n=e.sent,console.log(t(JSON.stringify(n)," at pages\\shopdetail\\shopdetail.vue:233")),"0000"==n.code){e.next=6;break}return e.abrupt("return");case 6:this.queryData.totalPage=n.total,n.list.forEach(function(t){return t.defaultSourceImagePath=s.$config.imghosturl+t.defaultSourceImagePath}),this.goodList=i?n.list:this.goodList.concat(n.list);case 9:case"end":return e.stop()}},e,this)}));function a(t,a){return e.apply(this,arguments)}return a}(),getCartNum:function(){var t=this;this.$api.getCartNum().then(function(e){"0000"==e.code&&(t.cartNum=e.cartNum)})},chooseType:function(e){this.typeList.forEach(function(t,a){t.isAacitve=a==e}),console.log(t("index=="+e," at pages\\shopdetail\\shopdetail.vue:262")),console.log(t("this.typeList[index].id=="+this.typeList[e].id," at pages\\shopdetail\\shopdetail.vue:263")),this.queryData.goodsCategoryId=this.typeList[e].id,this.queryData.pageNo=1,this.getGoodsList(this.queryData,!0)},addToCaret:function(e){var a=this,o={pid:e};console.log(t("data==="+JSON.stringify(o)," at pages\\shopdetail\\shopdetail.vue:271")),this.$api.ajaxAdd(o).then(function(e){console.log(t(JSON.stringify(e)," at pages\\shopdetail\\shopdetail.vue:274")),"0000"==e.code?(a.cartNum=a.cartNum+1,i.showToast({title:"添加成功",duration:2e3})):"0001"==e.code?i.showToast({title:e.message,duration:2e3}):i.showToast({title:"添加失败",duration:2e3})})},toGoodsDetail:function(t){i.navigateTo({url:"/pages/gooddetail/gooddetail?goodId="+t})},toCart:function(){i.switchTab({url:"/pages/carts/carts"})}},onUnload:function(){i.$off("LoginBack")},onPullDownRefresh:function(){},onReachBottom:function(){return!(this.queryData.pageNo>this.queryData.totalPage)&&(this.queryData.pageNo=this.queryData.pageNo+1,console.log(t("pageNo==="+this.queryData.pageNo," at pages\\shopdetail\\shopdetail.vue:322")),console.log(t("totalPage==="+this.queryData.totalPage," at pages\\shopdetail\\shopdetail.vue:323")),!(this.queryData.pageNo>this.queryData.totalPage)&&void this.getGoodsList(this.queryData,!1))}};e.default=c}).call(this,a("0de9")["default"],a("6e42")["default"])},"4a99":function(t,e,a){"use strict";a.r(e);var i=a("10e0"),o=a("f8de");for(var n in o)"default"!==n&&function(t){a.d(e,t,function(){return o[t]})}(n);a("7830");var s=a("2877"),r=Object(s["a"])(o["default"],i["a"],i["b"],!1,null,null,null);e["default"]=r.exports},7061:function(t,e,a){},7830:function(t,e,a){"use strict";var i=a("7061"),o=a.n(i);o.a},f8de:function(t,e,a){"use strict";a.r(e);var i=a("33f9"),o=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e["default"]=o.a}},[["0345","common/runtime","common/vendor"]]]);